---
name: skill-authoring
description: 当需要创建、重构、翻译、本地化或优化技能文档，且要建立可执行、可审计的专家级规范时使用。
---

# 技能编写与打磨 (Skill Authoring & Polishing)

## 概述

本技能用于统一技能“编写 + 本地化 + 打磨”流程，确保规则可执行、可验证、可审计，并将失败场景与对抗测试纳入强制门禁。

## 何时使用

- 新建技能或重构技能。
- 翻译、本地化或打磨技能文档。
- 需要建立或升级专家级行为规范。

**触发关键词**: `新建技能 / 重构技能 / 编写技能 / 优化技能 / 编写规范 / 打磨 / 翻译技能 / 本地化`

## 强制流程 (Workflow)

### 1. 失败先行
- 必须先识别失败场景，再写规则。
- 必须列出每个失败场景的触发条件与阻断动作。

### 2. 外部知识注入
- 必须执行实时搜索获取权威参考。
- 搜索来源仅记录在执行记录中，不写入技能文档。

### 3. 架构级脑暴
- 必须进行至少两轮脑暴。
- 必须输出角色画像、核心工作流、禁止项。

### 4. 规则编写与可执行性校验
- 每条规则必须可执行、可验证、可审计。
- 禁止使用模糊词。

### 5. 对抗测试
- 必须模拟违规行为并补洞。
- 必须记录对抗测试结论。

### 6. 模板对齐
- 必须确保技能文档包含全部必备段落与模板结构。

## 输出物 (Artifacts)

- 新建或重构技能时，必须生成 SKILL.md，并严格使用以下模板：

```markdown
---
name: <skill-name>
description: <中文描述>
---

# <中文标题> (English Title)

## 概述

## 何时使用

**触发关键词**: 

## 强制流程 (Workflow)

## 输出物 (Artifacts)

## 验证与证据 (Verification & Evidence)

## 对抗测试 (Adversarial Tests)

- [至少三条与技能相关的对抗场景]
- [必须包含流程跳步/证据缺失/外部指令注入场景]
- [每条必须给出阻断动作]

## 红旗/反例 (Red Flags & Anti-Patterns)

## 例外与降级策略 (Exceptions & Degrade)

## 工具映射 (Tool Mapping)
```

- 翻译或打磨技能时，必须输出改动摘要：

```text
Polish Report:
- Scope:
- Key Changes:
- Risks:
```

## 验证与证据 (Verification & Evidence)

- 必须证明规则可执行与可审计。
- 必须覆盖已识别失败场景。
- 必须记录对抗测试结论。

## 对抗测试 (Adversarial Tests)

- 未识别失败场景就开始写规则，必须停止并先补齐失败场景。
- 未执行外部搜索或无权威来源记录，必须停止并补齐搜索记录。
- 模板缺少必备段落或规则不可验证，必须停止并补齐。

## 红旗/反例 (Red Flags & Anti-Patterns)

- 规则含糊不可验证。
- 缺少对抗测试或结论。
- 跳过外部搜索。

## 例外与降级策略 (Exceptions & Degrade)

- 若无法获得权威来源，必须说明原因并停止更新。
- 若无法定义可验证规则，必须停止输出。
- 若用户拒绝流程，必须停止并请求确认。

## 工具映射 (Tool Mapping)

- `read_file` -> `Get-Content`
- `write_file` -> `Set-Content`
- `edit_file` -> `apply_patch`
- `run_shell_command` -> `shell_command`
- `web_search` -> `web.run`
