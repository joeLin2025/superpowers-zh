---
name: dispatching-parallel-agents
description: 当面临 2 个及以上可独立进行、无共享状态且无顺序依赖的任务时，用于调度多个并行智能体以提升执行效率。
---

# 调度并行智能体 (Dispatching Parallel Agents)

## 概述

本技能通过任务隔离与冲突预检，实现安全并行执行，合并前必须全量回归验证。

**核心原则**
1. **物理隔离**：任务不得修改同一文件。
2. **指令完备**：每个任务必须包含边界、验证与输出。
3. **全量回归**：合并前必须执行完整测试。

## 何时使用

- 存在 2+ 可独立任务。
- 任务间无依赖或共享状态。

## 强制流程 (Workflow)

### 1. 任务拆解 (Map)
- 以文件/模块为边界拆分任务。
- 每个子任务必须列出修改文件清单。

### 2. 冲突预检
- 若任务文件清单存在交集，**禁止并行**。

### 3. 并行执行
- 子代理按任务边界执行，不得越权。

### 4. 合并审计 (Reduce)
- 合并前检查所有变更。
- 执行全量回归测试。

## 禁令
- 禁止模糊委派或省略文件清单。
- 禁止并行修改同一文件。
- 禁止跳过全量回归。

## 借口粉碎机 (Excuse Smasher)

| 借口 | 事实反击 |
|------|----------|
| “冲突概率不高，可以试试” | 并行冲突是系统性风险，必须预检。 |
| “回归测试太慢” | 不回归等于未知风险合并。 |
| “先做再说” | 并行需要结构化拆解，否则会放大错误。 |

## 危险信号 (Red Flags)

- 子任务没有文件清单。
- 合并前未跑全量回归。
- 任务间存在隐性耦合但未识别。
