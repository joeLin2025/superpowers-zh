---
name: receiving-code-review
description: 当收到代码审查反馈时，在实施建议之前使用，以确保理性、客观地吸收反馈并改进代码。
---

# 接收代码审查与反馈吸收 (Receiving Code Review)

## 概述

此技能是将审查过程从“冲突点”转化为“学习点”的枢纽。它强制智能体摒弃防御性思维，通过**理性验证 (Rational Verification)** 和 **专业分类 (Professional Categorization)**，在确保代码质量提升的同时，保持与团队（或用户）的高效协作。

**核心原则：**
1.  **无我原则 (Ego-less Engineering)**：代码不等于自尊。反馈是对代码的审计，而非对个体的攻击。
2.  **先理解，后行动**：严禁在未完全理解建议的底层逻辑（Why）之前盲目修改代码。
3.  **验证即尊重**：最好的尊重是运行测试并分析建议的可行性，而不是机械地“好的，我改了”。

## 何时使用

- 收到同事、用户或审查智能体（Review Agent）提出的修改建议时。
- 在准备根据反馈执行 `writing-plans` 以便实施修改之前。
- 对审查反馈存在技术异议，需要准备沟通证据时。

## 核心法则

### 1. 必须分类处理反馈 (Categorization)
收到反馈后，**必须**首先进行标注和优先级排序：
- **致命项 (Blocker)**：Bug、安全漏洞、严重逻辑错误。 -> **最高优先级，必须立即通过测试验证并修复。**
- **架构项 (Structural)**：设计模式选择、职责分离。 -> **必须与现有 Spec 对比，确认是否需要重构。**
- **改进项 (Suggestion/Nitpick)**：可读性、命名规范、Lint 细节。 -> **除非有强烈反证，否则应遵循项目约定。**
- **疑问项 (Question)**：审查者因代码含糊而产生的困惑。 -> **必须通过重构（而非仅仅增加注释）来消除模糊性。**

### 2. 必须执行“零防御”验证 (Zero-Defense Verification)
- **动作**：针对技术建议（如“这里用 Generator 性能更好”），**必须**进行快速实验。
- **异议处理**：若验证发现建议导致了 Bug 或性能下降，**必须**以客观数据（如：错误日志、Benchmark）回复杂审者。
- **严禁**：使用“我以前一直这么写”、“这不重要”等非技术性借口反驳。

### 3. 必须闭环反馈 (Feedback Loop Closure)
- **确认**：对于接受的修改，**必须**明确宣布：“我已采纳建议 [A]，将通过 [动作] 实施。”
- **解释**：对于不采纳的建议，**必须**有理有据地解释原因，并寻求最终达成一致。
- **禁止**：无声地修改代码或无声地忽略建议。

### 4. 严禁盲目过度工程 (Avoid YAGNI Leaks)
- 若审查者建议添加“未来可能用到的功能”，**必须**依据 YAGNI 原则进行防御。
- **原理**：只为当前需求负责。未来的灵活性应通过良好的接口设计预留，而不是现在就写实现。

## 借口粉碎机 (Excuse Smasher)

| 借口 | 事实反击 |
|------|----------|
| “他根本不懂我这里的复杂逻辑” | 如果连专业的审查者都看不懂，说明你的逻辑封装失败了。简洁是复杂的终极形式。 |
| “按他的改法，我要改十几个文件” | 工作量不是拒绝质量提升的理由。欠下的债早晚要还，而且带利息。 |
| “这只是风格习惯的不同” | 团队的风格高于个人的习惯。在项目中，你必须表现得像“同一个人”写的代码。 |
| “他是老板/资深，按他说的改就行” | 盲从是失职。作为代码的作者，你必须对最终合入的每一行逻辑负责。 |

## 危险信号 (Red Flags)

- **情绪化响应**：回复中包含“但是”、“我觉得”等带有强烈主观色彩的词汇。
- **盲目执行**：在没有运行测试的情况下就实施了建议的修改。
- **静默回绝**：通过不予理睬来逃避对某些反馈的处理。
- **为了改而改**：为了消除审查意见，而写出了比原先更复杂、更难懂的代码。