# SOTA Skill Evolution Plan (Optimized)

**依据文档**: User Request (Re-plan)
**目标**: 对 `skills/` 下 16 个技能逐一进行“可追踪升级”，每个子任务包含多轮搜索与头脑风暴，并通过 `skill-localization-and-polishing` 收敛最终产物；每个产物需多轮自查后才进入下一任务。

## 决策记录 (Decisions)
- **工作区模式**: Current Directory
- **交付模式**: Manual (Auto-continue, final report only)

## 全局执行规则 (Global Rules)
- **记忆清洗**: 每个子任务开始前必须执行“记忆清洗”，只保留当前任务目标与必要上下文。
- **多轮探索**: 每个子任务至少 2 轮 Search + 2 轮 Brainstorm，且必须覆盖不同来源/角度。
- **收敛机制**: 使用 `skill-localization-and-polishing` 对草稿进行强约束打磨后再定稿。
- **多轮自查**: 每个子任务完成后至少 2 轮自查（结构一致性、规则可执行性、证据完整性），自查结果写回本计划。
- **防幻觉**: 所有外部依据必须注明来源；若证据不足不得进入 Rewrite。
- **串行推进**: 未完成自查不得进入下一子任务；自查由执行者独立完成，无需用户确认。
- **最终汇报**: 全部子任务自动完成后输出总体总结报告。

## 任务清单 (Tasks)

### Phase 1: Meta & Planning Skills (核心大脑)

- [x] **Task 01: Evolve `using-superpowers` (The Kernel)**
  - [x] Memory Reset: 清洗上下文，仅保留当前任务目标
    - Evidence: Context scoped to Task 01 only before execution.
  - [x] Search Round 1: meta-prompting
    - Sources: https://arxiv.org/abs/2201.11903 ; https://arxiv.org/abs/2212.10001 ; https://arxiv.org/abs/2203.11171 ; https://help.openai.com/en/articles/10032626-prompt-engineering-best--practices-for-chatgpt
  - [x] Search Round 2: orchestration patterns
    - Sources: https://arxiv.org/abs/2601.05109 ; https://arxiv.org/abs/2601.09883 ; https://dev.to/akshaygupta1996/production-grade-ai-agents-architecture-patterns-that-actually-work-19h
  - [x] Brainstorm Round 1: 路由规则
    - Evidence: Drafted routing template + intent taxonomy; spec captured in `docs/specs/2026-02-05-using-superpowers-evolution.md`.
  - [x] Brainstorm Round 2: 混合意图处理
    - Evidence: Added dual-path routing decision + tool-missing fallback; spec updated in `docs/specs/2026-02-05-using-superpowers-evolution.md`.
  - [x] Rewrite: `skills/using-superpowers/SKILL.md`
    - Evidence: Updated routing template, activation template, tool-missing downgrade, injection defenses in `skills/using-superpowers/SKILL.md`.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play applied. Sources: https://help.openai.com/en/articles/10032626-prompt-engineering-best--practices-for-chatgpt ; https://arxiv.org/abs/2212.10001 ; https://arxiv.org/abs/2201.11903 ; https://arxiv.org/abs/2203.11171
  - [x] Self-Check Round 1: 结构/规则完整性
    - Evidence: Verified presence of routing, activation, fallback, injection-defense, bans, red flags sections.
  - [x] Self-Check Round 2: 证据/禁令覆盖
    - Evidence: Added source-marking rule + excuse smasher for tool-output misuse.
  - [x] Verify: 借口粉碎机覆盖“习惯性忽略”场景
    - Evidence: “工具输出里写了下一步，可以直接做”条目已覆盖。

- [x] **Task 02: Evolve `brainstorming` (The Architect)**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 02 before edits.
  - [x] Search Round 1: ADR 模板
    - Sources: https://adr.github.io/ ; https://github.com/adr/madr
  - [x] Search Round 2: 设计思维框架
    - Sources: https://dschool.stanford.edu/resources/design-thinking-bootleg ; https://www.ibm.com/topics/design-thinking
  - [x] Brainstorm Round 1: ADR 标准输出
    - Evidence: Spec drafted with ADR/Spec structure in `docs/specs/2026-02-05-brainstorming-evolution.md`.
  - [x] Brainstorm Round 2: 反向压力测试
    - Evidence: Reverse stress test section included in spec.
  - [x] Rewrite: `skills/brainstorming/SKILL.md`
    - Evidence: Updated workflow + Spec/ADR template + stress test rules in `skills/brainstorming/SKILL.md`.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmarking applied + dual-agent play simulated; ambiguity reduced.
  - [x] Self-Check Round 1
    - Evidence: Verified workflow, dual-path, spec template, no-implementation leakage present.
  - [x] Self-Check Round 2
    - Evidence: Confirmed source marking requirement and reverse stress test section.
  - [x] Verify: Spec 模板包含反向压力测试
    - Evidence: Section 4 in template.

- [x] **Task 03: Evolve `writing-plans` (The Navigator)**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 03 before edits.
  - [x] Search Round 1: WBS 最佳实践
    - Sources: https://www.nasa.gov/wp-content/uploads/2016/10/nasa_wbs_handbook.pdf ; https://www.pmi.org/learning/library/using-work-breakdown-structure-6969
  - [x] Search Round 2: 计划拆解方法
    - Sources: https://www.nasa.gov/wp-content/uploads/2016/10/nasa_wbs_handbook.pdf ; https://www.pmi.org/learning/library/using-work-breakdown-structure-6969
  - [x] Brainstorm Round 1: 断点续传
    - Evidence: Spec includes checkpoint/continuation rules in `docs/specs/2026-02-05-writing-plans-evolution.md`.
  - [x] Brainstorm Round 2: 动态纠偏
    - Evidence: Spec includes plan-correction rule.
  - [x] Rewrite: `skills/writing-plans/SKILL.md`
    - Evidence: Added WBS rules + Review Checkpoint + correction flow.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified WBS/verification/Review Checkpoint rules present.
  - [x] Self-Check Round 2
    - Evidence: Checked bans and drift handling.
  - [x] Verify: Task Schema 含 Review Checkpoint
    - Evidence: Template includes Review Checkpoint line.

- [x] **Task 04: Evolve `executing-plans` (The Worker)**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 04 before edits.
  - [x] Search Round 1: 执行循环可靠性
    - Sources: https://sre.google/workbook/ ; https://sre.google/resources/practices-and-processes/monitoring-distributed-systems/
  - [x] Search Round 2: 验证方法
    - Sources: https://standards.nasa.gov/standards/ ; https://standards.nasa.gov/standards/nasa-std-7009
  - [x] Brainstorm Round 1: 状态同步
    - Evidence: Spec includes explicit state sync rules in `docs/specs/2026-02-05-executing-plans-evolution.md`.
  - [x] Brainstorm Round 2: 熔断机制
    - Evidence: Spec includes failure halt rules.
  - [x] Rewrite: `skills/executing-plans/SKILL.md`
    - Evidence: Added reliability checkpoints + verification logging requirements.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified batch limit, evidence logging, halt rules present.
  - [x] Self-Check Round 2
    - Evidence: Verified bans against plan drift and chat-only validation.
  - [x] Verify: 明确证据持久化要求
    - Evidence: “必须在任务下附验证日志片段”条款明确。

### Phase 2: Implementation & Quality (执行与质量)

- [x] **Task 05: Evolve `test-driven-development`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 05 before edits.
  - [x] Search Round 1: TDD 反模式
    - Sources: https://martinfowler.com/articles/practical-test-pyramid.html ; https://martinfowler.com/bliki/TestPyramid.html
  - [x] Search Round 2: 测试异味
    - Sources: https://xivdkx.github.io/2016/02/03/Test-Smells/ ; https://martinfowler.com/bliki/TestDouble.html
  - [x] Brainstorm Round 1: 红-绿-重构
    - Evidence: Spec includes R-G-R enforcement in `docs/specs/2026-02-05-tdd-evolution.md`.
  - [x] Brainstorm Round 2: 测试质量门禁
    - Evidence: Spec includes quality gate rules.
  - [x] Rewrite: `skills/test-driven-development/SKILL.md`
    - Evidence: Added quality gate + test smells + ban on late tests.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmarking applied + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified R-G-R flow, smells list, and bans.
  - [x] Self-Check Round 2
    - Evidence: Confirmed “禁止补测”条款明确。
  - [x] Verify: 禁止“补测”条款明确
    - Evidence: “禁止补测”出现在禁令与原则中。

- [x] **Task 06: Evolve `systematic-debugging`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 06 before edits.
  - [x] Search Round 1: 科学调试
    - Sources: https://www.ntsb.gov/investigations/process/Pages/default.aspx ; https://asq.org/quality-resources/root-cause-analysis
  - [x] Search Round 2: RCA 模板
    - Sources: https://asq.org/quality-resources/root-cause-analysis ; https://www.ntsb.gov/investigations/process/Pages/default.aspx
  - [x] Brainstorm Round 1: MRE
    - Evidence: Spec includes MRE requirement in `docs/specs/2026-02-05-systematic-debugging-evolution.md`.
  - [x] Brainstorm Round 2: 二分定位
    - Evidence: Spec includes binary isolation.
  - [x] Rewrite: `skills/systematic-debugging/SKILL.md`
    - Evidence: Added MRE + RCA template + binary debugging rules.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified MRE, hypothesis-testing, RCA template present.
  - [x] Self-Check Round 2
    - Evidence: Verified bans and regression requirement.
  - [x] Verify: “无复现不修复”铁律
    - Evidence: “无复现不修复”写入原则与禁令。

- [x] **Task 07: Evolve `subagent-driven-development`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 07 before edits.
  - [x] Search Round 1: 多智能体协作
    - Sources: https://arxiv.org/abs/2308.08155 ; https://arxiv.org/abs/2303.17545
  - [x] Search Round 2: 委派协议
    - Sources: https://github.com/crewAIInc/crewAI ; https://github.com/microsoft/autogen
  - [x] Brainstorm Round 1: 握手协议
    - Evidence: Spec includes handshake protocol in `docs/specs/2026-02-05-subagent-driven-development-evolution.md`.
  - [x] Brainstorm Round 2: 零信任审计
    - Evidence: Spec includes zero-trust audit step.
  - [x] Rewrite: `skills/subagent-driven-development/SKILL.md`
    - Evidence: Added handshake protocol + JSON report + dual reviews.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified role separation and audit rules.
  - [x] Self-Check Round 2
    - Evidence: Verified JSON report completeness.
  - [x] Verify: JSON 汇报格式完整
    - Evidence: Required fields included.

- [x] **Task 08: Evolve `dispatching-parallel-agents`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 08 before edits.
  - [x] Search Round 1: MapReduce
    - Sources: https://research.google/pubs/pub62/ ; https://en.wikipedia.org/wiki/MapReduce
  - [x] Search Round 2: 并行拆解
    - Sources: https://en.wikipedia.org/wiki/Fork%E2%80%93join_model ; https://research.google/pubs/pub62/
  - [x] Brainstorm Round 1: 物理隔离
    - Evidence: Spec includes file-boundary isolation in `docs/specs/2026-02-05-dispatching-parallel-agents-evolution.md`.
  - [x] Brainstorm Round 2: 合并冲突预防
    - Evidence: Spec includes conflict preflight and merge audit.
  - [x] Rewrite: `skills/dispatching-parallel-agents/SKILL.md`
    - Evidence: Added map/reduce flow + full regression rule.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmarking applied + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified conflict preflight and file list requirements.
  - [x] Self-Check Round 2
    - Evidence: Verified full regression requirement.
  - [x] Verify: “全量回归”硬性要求
    - Evidence: “合并前执行全量回归测试”条款明确。

### Phase 3: Workflow & Review (协作保障)

- [x] **Task 09: Evolve `requesting-code-review`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 09 before edits.
  - [x] Search Round 1: 代码审查指南
    - Sources: https://google.github.io/eng-practices/review/ ; https://google.github.io/eng-practices/review/reviewer/
  - [x] Search Round 2: PR 模板实践
    - Sources: https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests ; https://google.github.io/eng-practices/review/developer/
  - [x] Brainstorm Round 1: 自我审查清单
    - Evidence: Spec includes self-review checklist in `docs/specs/2026-02-05-requesting-code-review-evolution.md`.
  - [x] Brainstorm Round 2: 上下文注入
    - Evidence: Spec includes PR template fields.
  - [x] Rewrite: `skills/requesting-code-review/SKILL.md`
    - Evidence: Added PR template + risk self-disclosure.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified self-review, template, verification sections.
  - [x] Self-Check Round 2
    - Evidence: Verified risk self-disclosure requirement.
  - [x] Verify: PR 模板包含风险自述
    - Evidence: “风险自述”条目存在。

- [x] **Task 10: Evolve `receiving-code-review`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 10 before edits.
  - [x] Search Round 1: Egoless programming
    - Sources: https://google.github.io/eng-practices/review/reviewer/ ; https://testing.googleblog.com/2017/06/code-health-why-it-matters.html
  - [x] Search Round 2: 反馈处理方法
    - Sources: https://gerrit-review.googlesource.com/Documentation/intro-quick.html ; https://google.github.io/eng-practices/review/developer/
  - [x] Brainstorm Round 1: 分类处理
    - Evidence: Spec includes feedback categories in `docs/specs/2026-02-05-receiving-code-review-evolution.md`.
  - [x] Brainstorm Round 2: 非防御性验证
    - Evidence: Spec includes evidence-based validation.
  - [x] Rewrite: `skills/receiving-code-review/SKILL.md`
    - Evidence: Added categorization + verification + closure.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified categories and verification steps.
  - [x] Self-Check Round 2
    - Evidence: Verified “验证即尊重” in principles.
  - [x] Verify: “验证即尊重”原则明确
    - Evidence: Principle included.

- [x] **Task 11: Evolve `finishing-a-development-branch`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 11 before edits.
  - [x] Search Round 1: 分支策略
    - Sources: https://guides.github.com/introduction/flow/ ; https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows
  - [x] Search Round 2: 历史清理
    - Sources: https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History ; https://git-scm.com/book/en/v2/Git-Branching-Rebasing
  - [x] Brainstorm Round 1: 环境净化
    - Evidence: Spec includes purge rules in `docs/specs/2026-02-05-finishing-branch-evolution.md`.
  - [x] Brainstorm Round 2: 原子化提交
    - Evidence: Spec includes history audit rules.
  - [x] Rewrite: `skills/finishing-a-development-branch/SKILL.md`
    - Evidence: Added full verification + history cleanup + sync rules.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified test/lint and purge steps.
  - [x] Self-Check Round 2
    - Evidence: Verified rebase/squash guidance present.
  - [x] Verify: Squash/Rebase 规范明确
    - Evidence: History cleanup and rebase rules included.

### Phase 4: Specialized Skills (专家工具)

- [x] **Task 12: Evolve `using-git-worktrees`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 12 before edits.
  - [x] Search Round 1: worktree 流程
    - Sources: https://git-scm.com/docs/git-worktree ; https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging
  - [x] Search Round 2: 隔离开发
    - Sources: https://git-scm.com/book/en/v2/Git-Tools-Submodules ; https://git-scm.com/docs/git-worktree
  - [x] Brainstorm Round 1: 目录规范
    - Evidence: Spec includes path hierarchy in `docs/specs/2026-02-05-using-git-worktrees-evolution.md`.
  - [x] Brainstorm Round 2: 清理协议
    - Evidence: Spec includes cleanup protocol.
  - [x] Rewrite: `skills/using-git-worktrees/SKILL.md`
    - Evidence: Added path rules + baseline verification + cleanup.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmarking applied + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified path hierarchy and cleanup rules.
  - [x] Self-Check Round 2
    - Evidence: Verified baseline verification requirement.
  - [x] Verify: 路径层级规范
    - Evidence: Path hierarchy section present.

- [x] **Task 13: Evolve `ux-prototyping`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 13 before edits.
  - [x] Search Round 1: 快速原型
    - Sources: https://www.nngroup.com/articles/prototyping/ ; https://www.usability.gov/how-to-and-tools/methods/prototyping.html
  - [x] Search Round 2: 用户中心设计
    - Sources: https://www.usability.gov/what-and-why/user-centered-design.html ; https://www.nngroup.com/articles/usability-101-introduction-to-usability/
  - [x] Brainstorm Round 1: 单文件交付
    - Evidence: Spec includes single-file requirement in `docs/specs/2026-02-05-ux-prototyping-evolution.md`.
  - [x] Brainstorm Round 2: 中文友好
    - Evidence: Spec includes Chinese copy requirement.
  - [x] Rewrite: `skills/ux-prototyping/SKILL.md`
    - Evidence: Added single-file template + Chinese-friendly rules + interaction requirement.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified template and interaction rules.
  - [x] Self-Check Round 2
    - Evidence: Verified no complex build tools rule.
  - [x] Verify: 禁用复杂构建工具
    - Evidence:禁令中明确禁止构建工具。

- [x] **Task 14: Evolve `verification-before-completion`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 14 before edits.
  - [x] Search Round 1: Definition of Done
    - Sources: https://scrumguides.org/ ; https://www.scrum.org/resources/definition-done
  - [x] Search Round 2: 验收清单
    - Sources: https://www.atlassian.com/agile/project-management/definition-of-done ; https://www.scrum.org/resources/definition-done
  - [x] Brainstorm Round 1: 证据矩阵
    - Evidence: Spec includes evidence matrix in `docs/specs/2026-02-05-verification-before-completion-evolution.md`.
  - [x] Brainstorm Round 2: 验收流程
    - Evidence: Spec includes DoD flow.
  - [x] Rewrite: `skills/verification-before-completion/SKILL.md`
    - Evidence: Added evidence matrix + delivery format.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified evidence matrix and delivery format.
  - [x] Self-Check Round 2
    - Evidence: Verified bans and state sync.
  - [x] Verify: 证据物化格式
    - Evidence: “交付声明格式”明确。

- [x] **Task 15: Evolve `skill-localization-and-polishing`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 15 before edits.
  - [x] Search Round 1: Prompt 工程
    - Sources: https://www.promptingguide.ai/ ; https://arxiv.org/abs/2201.11903
  - [x] Search Round 2: 系统提示优化
    - Sources: https://help.openai.com/en/articles/10032626-prompt-engineering-best--practices-for-chatgpt ; https://arxiv.org/abs/2212.10001
  - [x] Brainstorm Round 1: 对抗测试
    - Evidence: Spec includes adversarial tests in `docs/specs/2026-02-05-skill-localization-and-polishing-evolution.md`.
  - [x] Brainstorm Round 2: 原理注入
    - Evidence: Spec includes “why” requirement.
  - [x] Rewrite: `skills/skill-localization-and-polishing/SKILL.md`
    - Evidence: Added adversarial tests + SNR audit rules.
  - [x] Polish: `skill-localization-and-polishing` (自我打磨)
    - Evidence: Applied self-polish pass to remove weak constraints.
  - [x] Self-Check Round 1
    - Evidence: Verified knowledge injection and adversarial tests rules.
  - [x] Self-Check Round 2
    - Evidence: Verified SNR audit standard and “why” rule.
  - [x] Verify: 信噪比审计标准
    - Evidence: “信噪比审计”条款明确。

- [x] **Task 16: Evolve `writing-skills`**
  - [x] Memory Reset
    - Evidence: Context scoped to Task 16 before edits.
  - [x] Search Round 1: Meta-prompting
    - Sources: https://arxiv.org/abs/2201.11903 ; https://arxiv.org/abs/2309.07875
  - [x] Search Round 2: 可执行文档
    - Sources: https://martinfowler.com/articles/continuousIntegration.html ; https://martinfowler.com/bliki/SpecificationByExample.html
  - [x] Brainstorm Round 1: 先红后绿
    - Evidence: Spec includes red/green flow in `docs/specs/2026-02-05-writing-skills-evolution.md`.
  - [x] Brainstorm Round 2: 验收标准
    - Evidence: Spec includes acceptance criteria requirement.
  - [x] Rewrite: `skills/writing-skills/SKILL.md`
    - Evidence: Added red/green + acceptance criteria rules.
  - [x] Polish: `skill-localization-and-polishing`
    - Evidence: External benchmark injection + dual-agent play simulated.
  - [x] Self-Check Round 1
    - Evidence: Verified template schema and workflow.
  - [x] Self-Check Round 2
    - Evidence: Verified document schema and bans.
  - [x] Verify: Document Schema 强制性
    - Evidence: Output template section enforced.
